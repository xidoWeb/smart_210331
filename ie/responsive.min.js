(function(n){function t(n){this.settings({indent:!1,staticWrapper:"staticMediaQueries",dynamicWrapper:"dynamicMediaQueries",useMediaQuery:!0,debug:!1,maxWidth:2048,minWidth:200,defaultStep:32});b("orientationchange",n,function(){i.fireEvents()});b("resize",n,function(){i.fireEvents()})}function h(n){return typeof n!="undefined"&&n&&n.constructor===Array}function b(n,t,i){if(t.addEventListener)t.addEventListener(n,i,!1);else if(t.attachEvent)return t.attachEvent("on"+n,i);return null}function k(){return typeof n.innerWidth=="number"?n.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)?document.body.clientWidth:0}function v(n){var t,i=parseInt,n=n.replace(/\s\s*/g,"");return(t=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/.exec(n))?t=[i(t[1],16),i(t[2],16),i(t[3],16)]:(t=/^#([\da-fA-F])([\da-fA-F])([\da-fA-F])/.exec(n))?t=[i(t[1],16)*17,i(t[2],16)*17,i(t[3],16)*17]:(t=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/.exec(n))?t=[+t[1],+t[2],+t[3],+t[4]]:(t=/^rgb\(([\d]+),([\d]+),([\d]+)\)/.exec(n))&&(t=[+t[1],+t[2],+t[3]]),isNaN(t[3])&&(t[3]=1),t.slice(0,3+!tt())}function tt(){if(!("result"in arguments.callee)){var n=document.getElementsByTagName("script")[0],t=n.style.color,i="rgba(0, 0, 0, 0.5)";if(t==i)arguments.callee.result=!0;else{try{n.style.color=i}catch(r){}arguments.callee.result=n.style.color!=t;n.style.color=t}}return arguments.callee.result}function it(n){return!isNaN(parseFloat(n))&&isFinite(n)}function rt(n,t,i,r,u){var f=v(r),e=v(u),o=(e[0]-f[0])/(i-t),s=f[0]+Math.round(o*(n-t)),h=(e[0]-f[1])/(i-t),c=f[1]+Math.round(h*(n-t)),l=(e[2]-f[2])/(i-t),a=f[2]+Math.round(l*(n-t));return ut(s,c,a)}function y(n){var t=n.toString(16);return t.length==1?"0"+t:t}function ut(n,t,i){return"#"+y(n)+y(t)+y(i)}function p(n,t){for(var u,f,i,e=[],o=[],r=0;r<n.length;r++)if(!ft(o,t(n[r]))){for(u=t(n[r]),o.push(u),f=[],i=0;i<n.length;i++)t(n[i])==u&&f.push(n[i]);e.push({Key:u,Items:f})}return e}function ft(n,t){if(n==null||t==null)return!1;for(var i=0;i<n.length;i++)if(n[i]==t)return!0;return!1}function et(n){function f(n,t){for(var i=0;i<t.length;i++)if(t[i][0]<=n&&t[i][1]>=n)return!0;return!1}var u,r,t;if(o.length!=0){for(u="",r=0;r<o.length;r++)f(n,o[r].Interval)&&(u=u+i.template(o[r].Template,o[r].Func(n)));if(t=document.getElementById(i.settings().dynamicWrapper),t==null){if(document.body==null)return;t=document.createElement("style");t.setAttribute("id",e.dynamicWrapper);document.body.appendChild(t)}else t.innerHTML="";t.appendChild(document.createTextNode(u))}}var i,e={},c=[],r=[],o=[],s=!1,a=null,u=[];t.prototype.getVersion=function(){return"1.0"};t.prototype.fireEvents=function(){var n,t;if(s){for(n=k(),t=0;t<u.length;t++)u[t].Condition(n)&&u[t].Action(n);et(n);e.useMediaQuery||i.render();e.debug&&(a==null&&(a=document.title),document.title=n+"px - "+a)}};t.prototype.whenInRange=function(n,t){return new g(n,t)};t.prototype.register=function(n,t){u.push({Name:n,Action:t,Condition:function(){return!0}})};t.prototype.unregister=function(n){for(var i=[],t=0;t<u.length;t++)u[t].Name!=n&&i.push(u[t]);u=i};t.prototype.dynamic=function(n,t,i){var r=i!=undefined?i:[[this.settings().minWidth,this.settings().maxWidth]];o.push({Interval:r,Template:n,Func:t})};t.prototype.template=function(n,t){var r={},u,i,f;try{return i=r[n],i||(f="var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<#=(.+?)#>/g,"',$1,'").split("<#").join("');").split("#>").join("p.push('")+"');}return p.join('');",i=new Function("obj",f),r[n]=i),i(t)}catch(e){u=e.message}return"< # ERROR: "+u.toString()+" # >"};t.prototype.breakpoints=function(){var n=arguments,i,t;if(n.length==1&&h(n[0])&&(n=n[0]),n.length==0)return c;for(i=-1,t=0;t<n.length;t++)if(n[t]<=i)return c;return c=n};t.prototype.reset=function(){c=[];r=[];o=[];u=[];this.stop()};t.prototype.settings=function(n){return n==undefined?e:e=n};t.prototype.start=function(){s||(s=!0,e.useMediaQuery&&i.render(),i.fireEvents())};t.prototype.render=function(){var w=i.settings().indent,tt=function(n,t,i,r){var u="";return n!=null&&t==null&&(u="@media only screen and (min-width: "+n+"px) { "+(r?"\r\n":"")),n==null&&t!=null&&(u="@media only screen and (max-width: "+t+"px) { "+(r?"\r\n":"")),n!=null&&t!=null&&(u="@media only screen and (min-width: "+n+"px) and (max-width: "+t+"px)  { "+(r?"\r\n":"")),u+i+(r?"}\r\n":"}")},d=function(n,t,i,r,u){for(var e=u+n+"{"+(r?"\r\n":""),f=0;f<t.length;f++)e=e+u+(r?"\t":"")+t[f].Name+":"+i[f]+" !important;"+(r?"\r\n":"");return e+u+"}"+(r?"\r\n":"")},a="",s,u,v,y,n,f,c,l,t,nt,o;if(i.settings().useMediaQuery)for(s=p(r,function(n){return n.Min!=null&&n.Max!=null?n.Min+"_"+n.Max:n.Min!=null?n.Min+"_max":n.Max!=null?"min_"+n.Max:"_"}),s=s.sort(function(n,t){var i=n.Items[0].min!=null?n.Items[0].min:n.Items[0].max,r=t.Items[0].min!=null?t.Items[0].min:t.Items[0].max;return i==r?n.Items[0].max==null?-1:t.Items[0].max==null?1:n.Items[0].max-t.Items[0].max:i-r}),n=0;n<s.length;n++){var g=s[n].Items[0],b="",h=p(s[n].Items,function(n){return n.Selector});for(u=0;u<h.length;u++){for(c=[],l=[],t=0;t<h[u].Items.length;t++)c.push(h[u].Items[t].Property),l.push(h[u].Items[t].Value+h[u].Items[t].Unit);b=b+d(h[u].Key,c,l,w,w?"\t\t":"")}a=a+tt(g.Min,g.Max,b,w)}else{for(v=k(),y=[],n=0;n<r.length;n++)r[n].Min==null&&r[n].Max>=v?y.push(r[n]):r[n].Min<=v&&r[n].Max==null?y.push(r[n]):r[n].Min<=v&&r[n].Max>=v&&y.push(r[n]);for(f=p(y,function(n){return n.Selector}),n=0;n<f.length;n++){for(c=[],l=[],t=0;t<f[n].Items.length;t++)c.push(f[n].Items[t].Property),l.push(f[n].Items[t].Value+f[n].Items[t].Unit);a=a+d(f[n].Key,c,l,w,"")}}if(nt=a,o=document.getElementById(this.settings().staticWrapper),o==null){if(document.body==null)return;o=document.createElement("style");o.setAttribute("id",e.staticWrapper);document.body.appendChild(o)}else o.innerHTML="";o.appendChild(document.createTextNode(nt))};t.prototype.stop=function(){if(s){s=!1;var n=document.getElementById(this.settings().staticWrapper),t=document.getElementById(this.settings().dynamicWrapper);n!=null&&document.body.removeChild(n);t!=null&&document.body.removeChild(t)}};t.prototype.update=function(){s&&render()};t.prototype.extend=function(){var n=arguments,i;for(n.length==1&&h(n[0])&&(n=n[0]),i=0;i<n.length;i++)n[i](t.prototype)};t.prototype.set=function(n,t){return new nt(n,t)};t.prototype.onCondition=function(n){return new d(n)};var d=function(){function n(n){this.Condition=n}return n.prototype.do=function(n,t){var i=t!=undefined?t:"";u.push({Name:i,Action:n,Condition:this.Condition})},n}(),g=function(){function n(n,t){this.min=n==undefined?null:n;this.max=t==undefined?null:t}return n.prototype.do=function(n,t){var i=t!=undefined?t:"";u.push({Name:i,Action:n,Condition:function(n){return this.min!=null&&n<this.min?!1:this.max!=null&&n>this.max?!1:!0}})},n}(),nt=function(){function n(n,t){if(n==undefined||n=="")throw new Error("Invalid Property Name");this.Name=n;this.Unit=t==undefined?"":t}return n.prototype.values=function(){var n=arguments;if(n.length==1&&h(n[0])&&(n=n[0]),n.length!=i.breakpoints().length)throw new Error("Wrong Values Array size");return new w(this,i.breakpoints(),n,this.Unit)},n.prototype.custom=function(){var n=arguments,i,r,t;for(n.length==1&&h(n[0])&&(n=n[0]),i=[],r=[],t=0;t<n.length;t++)i.push(n[t][0]),r.push(n[t][1]);return new w(this,i,r,this.Unit)},n.prototype.as=function(n,t,r,u,e){for(var a,h,c,p=r!=undefined?r:i.settings().minWidth,w=u!=undefined?u:i.settings().maxWidth,b=t==undefined?10:t,y=e!=undefined?e:!1,v=this.Unit!=undefined?this.Unit:"",s=[],o=p;o<=w;o++){if(a=n(o),!it(a))throw new Error("as function does not return numeric value : "+a);s.push({W:o,Y:a})}for(h=0,c=[],o=0;o<s.length;o++)y||o!=0||c.push(new f(null,s[o].W,this,s[o].Y,v)),s[o].W!=s[h].W&&Math.abs(s[o].Y-s[h].Y)>b&&(c.push(new f(s[h].W,s[o].W,this,s[o].Y,v)),h=o),y||o!=s.length-1||c.push(new f(s[o].W,null,this,s[o].Y,v));return new l(c)},n}(),w=function(){function n(n,t,i,r){if(n==undefined)throw new Error("Invalid Property");if(t==undefined||t.length==0)throw new Error("Invalid Breakpoints array");if(i==undefined||i.length==0)throw new Error("Invalid Values array");this.Property=n;this.Breakpoints=t;this.Values=i;this.Unit=r}function t(n,t,i,r,u){if(n<=t)return r;if(n>=i)return u;try{return v(r),rt(n,t,i,r,u)}catch(e){var f=(u-r)/(i-t);return(f*(n-t)+r).toFixed(4)}}return n.prototype.linear=function(n){for(var u,o=n==undefined?i.settings().defaultStep:n,e=[],r=0;r<this.Breakpoints.length;r++)if(r==0&&e.push(new f(null,this.Breakpoints[r],this.Property,this.Values[r],this.Unit)),r==this.Breakpoints.length-1)e.push(new f(this.Breakpoints[r],null,this.Property,this.Values[r],this.Unit));else if(this.Values[r]==this.Values[r+1])e.push(new f(this.Breakpoints[r],this.Breakpoints[r+1],this.Property,this.Values[r],this.Unit));else if(this.Breakpoints[r+1]-1!=this.Breakpoints[r])for(u=this.Breakpoints[r];u<this.Breakpoints[r+1];u=u+o)u+o>this.Breakpoints[r+1]?e.push(new f(u,this.Breakpoints[r+1],this.Property,t(u,this.Breakpoints[r],this.Breakpoints[r+1],this.Values[r],this.Values[r+1]),this.Unit)):e.push(new f(u,u+o,this.Property,t(u,this.Breakpoints[r],this.Breakpoints[r+1],this.Values[r],this.Values[r+1]),this.Unit));return new l(e)},n.prototype.linearInt=function(n){for(var i=this.linear(n),r=[],t=0;t<i.List.length;t++)i.List[t].Value=Math.round(i.List[t].Value),r.push(i.List[t]);return new l(r)},n.prototype.interval=function(){for(var t=[],n=0;n<this.Breakpoints.length;n++)n==0&&t.push(new f(null,this.Breakpoints[n],this.Property,this.Values[n],this.Unit)),n==this.Breakpoints.length-1?t.push(new f(this.Breakpoints[n],null,this.Property,this.Values[n],this.Unit)):t.push(new f(this.Breakpoints[n],this.Breakpoints[n+1],this.Property,this.Values[n],this.Unit));return new l(t)},n}(),f=function(){function n(n,t,i,r,u){this.Min=n;this.Max=t;this.Property=i;this.Unit=u;this.Value=r}return n.prototype.applyTo=function(){var n=arguments,t;for(n.length==1&&h(n[0])&&(n=n[0]),t=0;t<n.length;t++)r.push({Min:this.Min,Max:this.Max,Selector:n[t],Property:this.Property,Value:this.Value,Unit:this.Unit})},n}(),l=function(){function n(n){this.List=n}return n.prototype.applyTo=function(){var t=arguments,i,n;for(t.length==1&&h(t[0])&&(t=t[0]),i=0;i<t.length;i++)for(n=0;n<this.List.length;n++)r.push({Min:this.List[n].Min,Max:this.List[n].Max,Selector:t[i],Property:this.List[n].Property,Value:this.List[n].Value,Unit:this.List[n].Unit})},n}();n.r$=i=new t(n)})(window);