# javascript 기초_4-2 Object (객체)

지 난시간에는 배열에 대해 알아보았습니다.
이번시간에는 객체에 대해 알아보도록 하겠습니다.

---

[TOC]

---

## 객체

객체는 배열과 매우 유사합니다.
하지만 서로다른 원소에 접근할 때, 배열에서는 숫자를 사용( `array[n]` )하여 접근하지만,
객체에서는 문자열을 사용하여 접근합니다.
이러한 문자열을 키(key) 또는 프로퍼티(property)라고 부르고 이들이 가리키는 원소를 값(value)이라고 부릅니다.

배열은 여러 개체를 표현할때 사용하며, 
객체는 다양한 특성이나 속성이 있는 하나의 개체를 표현할 때 사용하는 것이 특징입니다.

```javascript
var animals = ['고양이', '강아지', '고슴도치', '햄스터'];

var cat = {
  'color':'brown',
  'name':'navi',
  'charactor':'cuty'
};
var dog = {
  'color':'white',
  'name':'baduck',
  'charactor':'gentle'
};
var hedgehog = {
  'color':'gray',
  'name':'ddochi',
  'charactor':'haggard'
};
```

위 내용은 배열의 형태와 객체의 형태를 간단하게 구분하여 놓은 것입니다.
배열의 내용은 동물의 종류를 간단하게 나열하여 놓은 형태로 처리한 것이고,
객체의 내용은 해당하는 각 동물의 특징을 정리하여 놓은 것으로 볼 수 있습니다.

---

### 객체의 표현

객체는 배열과 객체의 모양이 다르다는 것을 알 수 있습니다.
배열은 `[ ]`의 형태로 값싸고 처리하는 내용이 있는 반면,
객체는 `{ }`(중괄호)의 형태로 처리하는 내용이 있습니다.

또한, 객체는 항상 **키 : 값**의 형태로 항상 쌍을 이루고 있습니다.
이렇게 객체의 형태 안에 들어있는 값을 **객체 리터럴(object literal)**이라고 부릅니다.

객체를 표현하는 형태를 좀더 자세하게 확인해 보겠습니다.
`{ }`내부에 **:**를 이용하여 **키**와 **값**을 구분하고, 키에는 항상 문자열로 입력하여야합니다.
이때 꼭 `' '` 또는  `" "`를 감싸고 있지 않아도 됩니다. 하지만 어떠한 형태를 취하던지 통일 시키는 것이 중요하며,
빈칸이 있는 이름(사용할 수 있습니다)에는 `' '`를 감싸서 처리하는 것이 좋습니다.(사용방법은 잠시후에...)

값의 경우에는 어떠한 자료형을 써도 큰 문제가 되지는 않습니다.
숫자, 문자, 변수, 함수, … 하지만 문자열의 경우에는 반드시 `' '`를 써서 표현하는 것을 잊지 마세요.

```javascript
var hedgehog = { 'color':'gray', 'name':'ddochi', 'charactor':'haggard'};

var hedgehog = {
  'color':'gray',
  'name':'ddochi',
  'charactor':'haggard'
};
```

위 내용은 변수 `hedgehog`의 객체를 표현한 내용입니다.
둘 모두 같은 내용을 작성한 것입니다.

객체의 값을 사용할 경우, 한줄로 표현한다고 해서 잘못된 것은 아닙니다. 
하지만 가독성이 떨어지므로 분리해서 사용하는 것을 권합니다.
(하지만 여기서는 지면상 한줄로 간간히 사용도록 하겠습니다.)

---

### 객체 값 접근하기

```javascript
var hedgehog = {
  'color':'gray',
  'animal name':'ddochi',
  'charactor':'haggard',
  'old':3
};

console.log(hedgehog['color']);				// 변수 'hedgehog'의 객체 'color' 객체 값 호출
console.log(hedgehog['animal name']);		// 변수 'hedgehog'의 객체 'animal name' 객체 값 호출
console.log(hedgehog.old);					// 변수 'hedgehog'의 객체 'old' 객체 값 호출
```

위 내용은 변수 `hedgehog`의 내용이 객체인형태로 그 값을 접근하여 도출 하는 내용입니다.

첫번째로 객체도 배열처럼 각 괄호(`[ ]`)를 사용하여 객체안의 값에 접근할 수 있습니다.
대신 배열은 숫자로 표현했다면 객체는 문자열로 이루어진 키를 사용한다는 점이 댜릅니다.

`hedgehog['color'];`형태의 내용은 배열과 유사한 방법으로 접근하는 방법입니다.
이 형태의 장점은 키의 형태가 빈칸이 있더라도 사용할 수 있다는 점입니다. 

`hedgehog['animal name'];`과 같이 표현하면 쉽게 해당하는 값을 얻을 수 있습니다.

두번째 방법은 `.`을 표기하여 접근하는 방법입니다.
`hedgehog.old;`와 같은 표현방법으로 해당하는 키의 앞/뒤에 따옴표를 사용하지 않으며,
접근하는 방법 또한 쉽게 다가갈 수 있다는 점이 매우 장점 입니다.

이렇게 점으로 표기하여 접근하는 방식을 **점표기법(dot notation)**이라고 합니다.
키 이름을 객체 이름 뒤에 오는 각괄호 속 따옴표 안에 입력하는 대신, 마침표를 넣고 따옴표 없이 키를 사용합니다.
하지만 해당하는 내용에 빈칸을 포함한 특수문자를 삽입하면 동작하지 않습니다.

만일, 키를 입력해서 값을 찾으려는 게 아니라 객체에 들어잇는 모든 키의 목록을 원한다고 가정한다면
자바스크립트에서는 `Object.keys()`를 활용하여 쉽게 받을 수 있습니다.

```javascript
var cat = {
  'color':'brown',
  'name':'navi',
  'charactor':'cuty'
};
var dog = {
  'color':'white',
  'name':'baduck',
  'charactor':'gentle'
};
var hedgehog = {
  'color':'gray',
  'name':'ddochi',
  'charactor':'haggard'
};

console.log(Object.keys(dog));
console.log(Object.keys(cat));
```

위의 내용은 `Object.keys()`를 활용하여 쉽게 원하는 객체를 받아온 형태입니다.
`Object.keys(객체의 이름)`를 입력하면 `객체의 이름`에 표함된 모든 키가 반환됩니다.

---

### 객체에 값 추가

객체를 빈형태로 취할 수 있습니다.
이는 빈 배열과 유사합니다. 

#### 각괄호(대괄호`[ ]`)를 사용한 키추가하기

단, 각 대괄호(각괄호) 대신 중괄호를 사용합니다(객체니까요^^).

```javascript
var obj = {};
```

위 내용은 변수 `obj`를 객체로 정의한 내용입니다. 
단지 내용이 없는 빈 객체일 뿐입니다.
이제 내용을 담아야 합니다.

```javascript
var obj = {}; 				// 객체 형태의 변수 선언
obj['name'] = 'kloud';		// 변수 'obj'에 객체 프로퍼티 'name' 및 값 'kloud' 추가
obj['make'] = 'lotte';		// 변수 'obj'에 객체 프로퍼티 'make' 및 값 'lotte' 추가
obj['sort'] = 'beer';		// 변수 'obj'에 객체 프로퍼티 'sort' 및 값 'beer' 추가

console.log(obj);			// 결과 도출
```

위의 결과값을 확인해보면 변수 `obj`내부에 각각의 프로퍼티-값들이 쌍으로 담겨져 있는 것을 알 수 있습니다.
여기서 주의할 점은 모든 브라우저는 입력된 순서대로 내용이 담기지 않습니다.

배열과 객체의 차이점 중 하나가 이런 부분이 아닐까 싶습니다.
배열은 추가한 내용대로 입력이되고, 0부터 순서로 각 색인마다 내이 담기지만, 객체의 경우는
순서와 상관없이 담긴다는 점 입니다.

객체를 사용할때 우리가 원하는 값을 얻기 위해서는 배열은 해당하는 내용의 순서를 기억하고 그 순서의 번호로 호출하지만
객체는 해당하는 프로퍼티(키)를 알아야 값을 도출 할 수 있습니다.
결국, 작업시 순서를 중요하게 생각하는 형태라면 객체는 바람직한 방법이 아닐 수 있습니다.

#### 점표기법 활용 키추가하기

앞서 우리는 각괄호를 사용하여 키를 추가하는 방법을 사용했습니다.
이번에는 점 표기법을 활용하여 키를 추가해 보겠습니다.
요령은 각괄호와 크게 다르지 않습니다.

```javascript
var obj2 = {};
obj2.name = 'cass';
obj2.make = 'ob';
obj2.sort = 'beer';

console.log(obj2);
```

위 내용은 이전에 사용한 결과물과 거의 동일한 결과물을 도출하게 됩니다.
만약 `console.log(obj2.country);`를 작성하면 결과값은 무엇일까요?

정답은 `undefined`입니다. 
변수 `obj2`의 객체키에는 `country`는 별도로 존재하지 않기 때문입니다.

---

### 배열과 객체 결합하기

#### 배열과 객체1

지금까지 본 내용은 모두 객체의 표현방식입니다.
하지만 사실 객체는 배열과 함께 사용하는 경우가 많습니다.
이러한 형태를 별도로 지칭하는 용어 또는 언어가 생겨났을 정도로 그 사용빈도가 높습니다.

배열과 객체의 결합된 형태를 이제 익혀 보도록 하겠습니다.

```javascript
var drink = [
  {'name': '펩시콜라', 'make':'펩시', 'color':'black'},
  {'name': '칠성사이다', 'make':'롯데칠성', 'color':'투명'},
  {'name': '환타', 'make':'코카콜라', 'color':'오렌지'}
];
```

위 내용은 음료에 관한 내용을 담은 자료입니다.
배열의 형태로 보았을 경우 음료의 종류에는 **펩시콜라, 칠성사이다, 환타**등의 종류를 볼 수가 있고,
제조회사로 보자면 **펩시, 롯데칠성, 코카콜라**등의 기업체명을 볼수가 있습니다.
이러한 내용을 다시 이름과, 제조회사, 음료컬러등을 하나의 묶음으로 처리한 후 
다시 이를 그룹화 하여 처리하는 과정의 내용을 작성하기에는 배열+객체가 가장 제격인 형태입니다.

위 내용에서 `console.log(drink[0]);`내용 작성하여 결과를 도출시켜 본다면, 
` {'name': '펩시콜라', 'make':'펩시', 'color':'black'}`를 도출시키게 됩니다.

또한, `console.log(drink[1]['name']);`을 작성하여 결과를 도출시킨다면, **칠성사이다**를 결과로 도출되게 됩니다.
이와 동일한 결과를 점표기 방법으로 `console.log(drink[1].make);`의 결과 **롯데칠성**을 얻을 수 도 있습니다.

**위내용에서 점표기방법은 객체에서만 사용이 가능합니다.(배열에서는 사용이 되지 않습니다.)**

---

#### 배열과 객체2

이전 내용에서 조금 더 복잡한 예를 들어 보겠습니다.

```javascript
var boram = {'name':'보람', 'old': '20대', 'number': [2, 3, 9, 5]};
var saena = {'name':'새나', 'old': '20대', 'number': [1, 4, 7, 9]};
var sujin = {'name':'수진', 'old': '20대', 'number': [5, 6, 8, 9]};
```

위 내용은 배열을 감싼것이 아닌 객체에 배열을 담은 형태로 볼 수 있습니다.
위 내용처럼 배열안에 객체를 담는것 뿐아니라 객체 안에 배열을 담을 수 도 있습니다.
원하는 값을 얻고자 한다면, `console.log(boram.number[0]);`를 작성해본다면 **2**를 도출할 수 있습니다.
상황에 따라 객체와 배열을 교대로 여러번 복합적으로 사용할 수도 있습니다.

이외에도 다양한 방법들이 많습니다.
위내용을 이어서 작성하도록 하겠습니다.

```javascript
var student = [boram, saena, sujin];		// 변수 'student'에 배열을 값을 'boram'등 변수를 등록
```

위 내용은 이전에 작성하였던 변수 `boram'`,`saena`,`sujin`를 변수 `student`에 담았습니다.
이때 조심하여야 하는 사항은  `boram'`,`saena`,`sujin`의 앞/뒤에 `" "`를 붙이면 안된다는 것입니다.
 `" "`를 붙이면 문자를 담는 것이기 때문에 전혀 다른 결과를 얻게 됩니다.

```javascript
console.log(student[2]);		// 변수 'student'의 배열 두번째 값 도출
```

위 내용의 결과값은 `{'name':'수진', 'old': '20대', 'number': [5, 6, 8, 9]};`의 결과값이 도출됩니다.
크롬에서는 `{'name':'수진', 'old': '20대', 'number': Array[4]};`로 도출됩니다. 
**Array[4]**의 의미는 원소(값)가 4개 들어있는 배열이라는 뜻입니다.

```javascript
console.log(student[0].number[2]);		// 변수 'student'의 첫번째의 키 number의 세번째 값 도출
```

위 내용의 결과값은 **9**입니다.
위 내용의 의미를 분석하려면 위에 설명드렸던 의미를 한번더 확인해 보시기 바랍니다.

---

### 객체를 유용하게 활용하는 방법

객체에 대한 전반적인 부분을 공부하셨습니다. 이제 간단한 프로그램을 제작해 보도록 하겠습니다.

#### 객체활용1 - 가계부 만들기

```javascript
var myMoney = {};
myMoney.phone = 60000;
myMoney.food = 70000;
myMoney.coffee = 30000;
myMoney.oil;

console.log(myMoney.oil); 				// 변수 'myMoney'의 키 'oil' 결과 도출 : undefined
console.log(myMoney.coffee);			// 변수 'myMoney'의 키 'coffee' 결과 도출 : 30000
```

위 내용은 한달 지출에 사용되는 금액을 정산하는 가계부를 작성한 내용입니다.
**핸드폰요금, 음식값, 커피값, 자동차기름값** 등으로 정리하여 작성하였습니다.
위 내용에서 기름값의 경우는 아직 금액을 정확하게 확인하지 못하여 정확한 금액을 작성하지 않았기에 **미정의**로 도출됩니다.

만일 위 내용에서 추가로 식대로 **50000**원을 추가로 확인하였다면, 해당하는 내용에 추가로 입력하여야 합니다.
이럴때에는 직접 `myMoney.food = 120000;`으로 입력하는 것이 아닌, 기존 금액에 추가금을 입력한다고 작성하는 것이 
올바른 방법입니다. 이러한 상황에 필요한 연산자가 **`+=`**연산자 입니다.

```javascript
myMoney.food += 50000;
console.log(myMoney.food);				
```

위 내용으로 값을 확인하면 결과값은 **50000**이 추가된 **120000**이 도출되게 됩니다.

---

객체활용2 - 영화목록 만들기

``` javascript
var movie = {
  'wonder woman':{
    play: 2017,
    time:'2시간 21분',
    stars: ['Gal Gadot', 'Chris Pine', 'Robin Wright']
  },
  'logan':{
    play: 2017,
    time: '2시간 21분',
    stars: ['Hugh Jackman', 'Patrick Stewart', 'Dafne Keen']
  },
  'fast and furious 8':{
    play: 2017,
    time: '2시간 18분',
    stars: ['Vin Diesel', 'Jason Statham', 'Dwayne Johnson']
  }
};
```

위 내용은 영화의 내용을 정리하여 담은 **객체형식**입니다.

특이사항을 확인하자면 영화의 제목부에는 `' '`를 사용했다는 점 입니다.
이는 띄워쓰기를 사용하여 하나의 키로 등록하기 위한 방법입니다.
이후의 내용에서는 `' '`를 사용하지 않은것은 띄어쓰기를 하지 않았기에 굳이 사용하지 않았습니다.
통일화 시키기 위해 작성하는 방법도 있습니다만, 전체적인 내용의 가독성을 위해 깔끔하게 처리하는 방안으로 접근하였습니다.

위 내용은 이전에 사용한 방법으로 쉽게 자료를 **찾거나**, **확인**이 가능합니다.
물론 내용을 추가하는 것도 가능합니다.

```javascript
var spiderman = {
   play: 2017,
    time: '2시간 10분',
    stars: ['Chris Evans', 'Tom Holland', 'Marisa Tomei']
};

movie['spider man'] = spiderman;
```

위의 내용은 기존의 `movie` 내용에 `spiderman` 내용을 추가로 삽입한 내용입니다.

객체를 설명할 때 처음에도 설명했듯 키(프로퍼티) - 값(value)의 쌍으로 이루어진 형태라고 설명드린적이 있습니다.
위 변수`movie`의 영화 제목의 목록을 보고싶다면 `movie`의 **키**를 확인하면 됩니다.
즉, `Object.keys(movie);` 를 작성하면 해당하는 영화의 제목을 확인할 수 있습니다.

지금바로 `console.log(Object.keys(movie));`를 작성하여 결과를 확인해 보세요.

---

### 정리(객체)

이번시간에는 객체가 어떻게 작동하는지 배웠습니다.
사실 객체는 많은 정보의 조각을 하나의 묶음으로 다룰 수 있게 해주는 면에서는 배열과 매우 유사합니다.
하지만 크게 두가지면에서 다릅니다.

1. 접근방식이 다릅니다.(배열은 숫자, 객체는 문자열)
2. 객체의 원소 순서가 다릅니다(배열은 순서대로 정렬, 객체는 특징이 없이 정렬)

자바스크립트는 **객체지향언어** 입니다. 
그렇기 때문에 객체가 매우 중요합니다.
이후에 좀더 자세히 설명드리겠지만 자바스크립트에 존재하는 대다수는 객체라고 합니다.
(배열, 함수, 숫, 문자….)

자바스크립트의 많은 부분을 이해하고 접근하여 좀더 구체적인 내용을 이해해 보세요.

* **JSON**이라고 불리는 것은 자바스크립트의 객체형식을 이용하여 만든 것 입니다.
  찾아 익혀보세요.